---
theme: seriph
background: https://source.unsplash.com/collection/94734566/1920x1080
class: 'text-center'
highlighter: shiki
lineNumbers: false
drawings:
    persist: false
css: unocss
---

# æ¥”å­

start

å°å¼¥ï¼šã€Œä¹‹å‰é‚£ä¸ªå½•å±è½¯ä»¶å’‹ç”¨ï¼Œæˆ‘è¦å½•è¯¾~ã€

æˆ‘ï¼šã€Œå½•å•¥è¯¾ï¼Œä½ ä»¬ä¸æ˜¯ç–«æƒ…å‘è§†é¢‘èµ„æ–™ç»™å­¦ç”Ÿå°±å¥½äº†ï¼Ÿã€

å°å¼¥ï¼šã€Œé‚£ç½‘ç«™ä¸è®©ä¸‹ï¼Œæ‰€ä»¥åªèƒ½å½•å±äº†ã€

æˆ‘ï¼šã€Œ... æˆ‘ç…ç…ã€

---


# ä¸¾ä¸ªæ —å­ ğŸŒ°

ç°åœ¨å¤§å¤šæ•°è§†é¢‘ç½‘ç«™ä¸ºäº†è§†é¢‘ç‰ˆæƒä¿æŠ¤ä¸åŠ è½½é€Ÿåº¦éƒ½ä¸ä¼šç›´æ¥ä½¿ç”¨ MP4 æ ¼å¼çš„è§†é¢‘èµ„æºï¼Œè¿›è€Œé‡‡ç”¨åœ¨æµè§ˆå™¨ç«¯è§£å¯†æ’­æ”¾çš„è§†é¢‘æ ¼å¼ï¼ŒM3U8 å°±æ˜¯æ¯”è¾ƒå¸¸è§çš„è§†é¢‘æ ¼å¼ã€‚

<br>
<br>
<br>


ğŸŒ°ğŸŒ°ğŸŒ°

- [taobao](https://item.taobao.com/item.htm?spm=a230r.1.14.16.3046293f6PM4vv&id=609798888729&ns=1&abbucket=14)
- [zxx.edu.cn](https://www.zxx.edu.cn/syncClassroom/classActivity?activityId=b87b1ba3-7d58-440d-b5c9-2eb7a7a5faa6)


---

<div grid="~ cols-2 gap-4">

<div>

# M3U8ï¼ˆM3Uï¼‰æ ¼å¼

> M3U æ–‡ä»¶æ˜¯ä¸€ç§çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå¤šåª’ä½“æ–‡ä»¶çš„ä½ç½®ï¼Œå…¶æ–‡ä»¶æ‰©å±•åæ˜¯ â€œM3Uâ€ æˆ–è€… â€œm3uâ€ ã€‚M3U æ–‡ä»¶å…·æœ‰å¤šä¸ªæ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›®çš„æ ¼å¼å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§æ ¼å¼ä¹‹ä¸€ï¼š
>
> -   ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ï¼šC:\My Music\Heavysets.mp3
> -   ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹äº M3U æ–‡ä»¶çš„è·¯å¾„ï¼‰ï¼Œæ¯”å¦‚ï¼šHeavysets.mp3
> -   ä¸€ä¸ª URL

> M3U8 æ˜¯ Unicode ç‰ˆæœ¬çš„ M3Uï¼Œç”¨ UTF-8 ç¼–ç ã€‚"M3U" å’Œ "M3U8" æ–‡ä»¶éƒ½æ˜¯è‹¹æœå…¬å¸ä½¿ç”¨çš„ HTTP Live Streaming æ ¼å¼çš„åŸºç¡€ï¼Œè¿™ç§æ ¼å¼å¯ä»¥åœ¨ iPhone å’Œ Macbook ç­‰è®¾å¤‡æ’­æ”¾ã€‚

[M3U ç»´åŸºç™¾ç§‘](https://zh.m.wikipedia.org/zh-hans/M3U)

</div>

<div>

# M3U8 ç¤ºä¾‹


```text
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-ALLOW-CACHE:YES
#EXT-X-TARGETDURATION:16
#EXT-X-MEDIA-SEQUENCE:0
#EXTINF:15.366444,
Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00001.ts?auth_key=1669086240-0-0-8178ecf4fcca98d45973d9da97793aa2
#EXTINF:8.120000,
Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00002.ts?auth_key=1669086240-0-0-a99a49c40ae2511cf0fb679e874852f7
#EXTINF:5.360000,
Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00003.ts?auth_key=1669086240-0-0-773af2632be3df442900f8bd4f41a9ac
#EXT-X-ENDLIST

```
</div>

</div>
---


# M3U8 ä¸‹è½½è§£æ

<div grid="~ cols-2 gap-4">

<div>


```js
const fs = require('fs-extra');
const path = require('path');
const download = require('download');
const m3u8Parser = require('m3u8-parser');

const M3U8_URL = '';
const OUTPUT_DIR = 'output';
// m3u8 æ–‡ä»¶ä¸‹è½½
const downloadM3u8 = async () => {
    const m3u8OutputPath = path.resolve(__dirname, OUTPUT_DIR, 'index.m3u8');
    await fs.ensureDir(path.resolve(__dirname, OUTPUT_DIR));
    await fs.writeFile(m3u8OutputPath, await download(M3U8_URL));
    return m3u8OutputPath;
};
// m3u8 æ–‡ä»¶è§£æ
const parseM3u8 = async (filePath) => {
    const m3u8Content = await fs.readFile(filePath, 'utf-8');
    const parser = new m3u8Parser.Parser();
    parser.push(m3u8Content);
    parser.end();
    return parser.manifest;
};
```


</div>

<div>

```json
{
    "allowCache": true,
    "discontinuityStarts": [],
    "segments": [
        {
            "duration": 15.366444,
            "uri": "Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00001.ts?auth_key=1669205423-0-0-74779306bc0158d01431cffb432760f0",
            "timeline": 0
        },
        {
            "duration": 8.12,
            "uri": "Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00002.ts?auth_key=1669205423-0-0-2663934cc121402f9138e53d3675517b",
            "timeline": 0
        },
        {
            "duration": 5.36,
            "uri": "Sw1Nt2Yq6HL4SsaqIEp_248351438042___hd-00003.ts?auth_key=1669205423-0-0-d556e54b54753b0c115eedea8209b546",
            "timeline": 0
        }
    ],
    "version": 3,
    "targetDuration": 16,
    "mediaSequence": 0,
    "discontinuitySequence": 0,
    "endList": true
}
```



</div>

</div>

---

# M3U8 èµ„æºä¸‹è½½

---

# è§†é¢‘æ‹¼æ¥è½¬ç 

---

# å…¶ä»–
